{"version":3,"sources":["services/phonenumber.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","object","request","put","console","log","SuccessNotification","message","className","ErrorNotification","Filter","addFilter","onChange","Persons","persons","setPersons","map","person","key","name","number","onClick","window","confirm","phoneNumberService","filter","item","catch","error","alert","deletePerson","PersonForm","addPerson","addName","addNumber","onSubmit","type","App","useState","newName","setNewName","newNumber","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","returnedNumbers","personToShow","toLowerCase","includes","event","preventDefault","target","value","duplicate_name","find","changedPerson","returnedPerson","setTimeout","returnedNumber","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a4061d3.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl,newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteNumber = id => {\n    const request = axios.delete(baseUrl + '/' + id)\n    return request.then(response => response.data)\n}\n\nconst put = object => {\n    const request = axios.put(baseUrl + '/' + object.id, {...object})\n    console.log({...object});\n    return request.then(response => response.data)\n}\n\nexport default { \n    getAll,\n    create,\n    deleteNumber,\n    put\n}\n","import React, { useState, useEffect } from 'react'\nimport phoneNumberService from './services/phonenumber'\nimport './App.css'\n\nconst SuccessNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst Filter = ({addFilter}) => {\n  return <p>Filter shown with: <input onChange={addFilter}/></p>\n}\n\nconst Persons = ({ persons, setPersons }) => {\n\n  const deletePerson = person => {\n    if (window.confirm(`Delete ${person.name}`)){\n      phoneNumberService\n        .deleteNumber(person.id)\n        .then(setPersons(persons.filter(item => item.id !== person.id)))\n        .catch(error => {\n          alert(error)\n        })\n    }\n  }\n\n  return persons.map(person => \n      <p key={person.name}>{person.name} {person.number}\n      <button onClick={() => deletePerson(person)}>delete</button></p>\n  )\n}\n\nconst PersonForm = ({ addPerson, addName, addNumber }) => {\n  return (\n    <form onSubmit={addPerson}> \n      <div>\n        name: <input onChange={addName}/>\n      </div>\n      <div>number: <input onChange={addNumber}/></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  useEffect(() => {\n    phoneNumberService\n      .getAll()\n      .then(returnedNumbers => setPersons(returnedNumbers))\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault();\n    setNewName(event.target.value);\n  }\n\n  const addNumber = (event) => {\n    event.preventDefault();\n    setNewNumber(event.target.value);\n  }\n\n  const addFilter = (event) => {\n    event.preventDefault();\n    setFilter(event.target.value.toLowerCase());\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const duplicate_name = persons.find(person => person.name === newName);\n    if (duplicate_name){\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const changedPerson = {...duplicate_name,number:newNumber};\n        phoneNumberService\n          .put(changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n            setSuccessMessage(`Added new \"${returnedPerson.number}\" number of ${returnedPerson.name}'s to the phonebook.`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`${newName}'s already deleted from server.`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      phoneNumberService\n        .create({\n          name: `${newName}`,\n          number: `${newNumber}`})\n        .then(returnedNumber => {\n          setPersons(persons.concat(returnedNumber))\n          setSuccessMessage(`Added ${newName} to the phonebook.`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          alert(error)\n        })\n    }\n  }\n\n  const personToShow = persons.filter(person => person.name.toLowerCase().includes(filter));\n\n  return (\n    <div className=\"main\">\n      <SuccessNotification message={successMessage || null}/>\n      <ErrorNotification message={errorMessage || null}/>\n      <h2>Phonebook</h2>\n      <Filter addFilter={addFilter}/>\n      <h2>Add a new</h2>\n      <PersonForm addPerson={addPerson} addName={addName} addNumber={addNumber}/>\n      <h2>Numbers</h2>\n      <Persons persons={personToShow} setPersons={setPersons}/> \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}